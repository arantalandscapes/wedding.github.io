<!DOCTYPE html>
<html lang="eng">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wedding Invitation Mathias & Filia</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css" />
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
</head>
  
<body>

<!-- 1ï¸âƒ£ Landing page Save the Date -->
<section id="intro" class="intro">
  <h1>Save the Date</h1>
  <img src="images/WhatsApp Image 2026-02-26 at 01.14.44.jpeg" id="envelope-btn" alt="Open Invitation">
</section>

<section id="video-intro">
  <video id="intro-video" playsinline muted>
    <source src="video/WhatsApp Video 2026-02-26 at 14.58.38.mp4" type="video/mp4">
  </video>
</section>
  

<!-- 2ï¸âƒ£ Hero + Carousel (hidden dulu) -->
<section id="hero-carousel" style="display:none;">
  

  <section class="hero fade-section">
    <div class="hero-overlay">
     <h2>Mathias & Filia</h2>
     <p>15 August 2027</p>
    </div>
  </section>

  <section class="story fade-section">
    <h3>Our Story</h3>
    <p>We met eons ago when we were still in mid-school. Only God knows whether it was sheer coincidence or it was really the start of it all...</p>
  </section>
  
  <section class="carousel-section fade-section">
    <div class="carousel-track">
       <img src="images/2.jpg" alt="prewed ams 1">
       <img src="images/1.jpg" alt="prewed ams 2">
       <img src="images/3.jpg" alt="prewed ams 3">
       <img src="images/4.jpg" alt="prewed ams 4">
       <img src="images/5.jpg" alt="prewed ams 5">
       <img src="images/3.jpg" alt="prewed ams 1">
       <img src="images/1.jpg" alt="prewed ams 2">
       <img src="images/3.jpg" alt="prewed ams 3">
       <img src="images/4.jpg" alt="prewed ams 4">
       <img src="images/5.jpg" alt="prewed ams 5">
    </div>
  </section>
  
<!-- BACKGROUND MUSIC -->
<audio id="bg-music" autoplay loop>
  <source src="audio/WhatsApp Audio 2026-02-26 at 14.20.56.mp4" type="audio/mp4">
  Browser kamu tidak mendukung audio.
</audio>
 
<section class="details fade-section">
    <h5>Wedding Details</h5>
    <p>Holy Matrimony: 9.00 WIB</p>
    <p>Location: GRII Karawaci, Lippo Karawaci Utara, Tangerang 15810</p>
    <p>Intimate Dinner: 18.00 WIB</p>
    <p>Location: Imperial Klub Golf, Lippo Karawaci, Tangerang 15811</p>
</section>

<section class="rsvp fade-section">
    <h6>RSVP</h6>
    <p>Please confirm you attendance through this link</p>
    <a href="https://docs.google.com/forms/d/e/1FAIpQLSdYMoDPUspbuEGghn4fjyGKcxjI0Z4wsewwRsNuIiVvEg4BtQ/viewform?usp=sharing&ouid=114060335823943459392" class="btn">Attendance RSVP Form</a>
</section>

<section class="wishes fade-section">
    <div class="container">
       <h7>Leave a Wish ðŸ’Œ</h7>
       <div class="wish-form">
         <input type="text" id="name" placeholder="Your name">
         <textarea id="message" placeholder="Write your wish..."></textarea>
         <button id="sendWish">Send</button>
       </div>
      
      <div id="wishList">
        
      </div>
</section>

<section class="closing fade-section">
    <h8>Thank You!</h8>
    <p>See you in our wedding ceremony!</p>
</section>

  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    AOS.init({ one: true });
  </script>

  
<script type="module">

import { initializeApp } 
from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";

import { getFirestore, collection, addDoc, onSnapshot, query, orderBy } 
from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyDURWySjN36BheothrohG_pdXQJuFWbDH0",
  authDomain: "http://wedding-wishes-19adc.firebaseapp.com/",
  projectId: "wedding-wishes-19adc",
  storageBucket: "http://wedding-wishes-19adc.firebasestorage.app/",
  messagingSenderId: "863585583570",
  appId: "1:863585583570:web:0760be1168072b77c4480b"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

const wishList = document.getElementById("wishList");
const sendBtn = document.getElementById("sendWish");

sendBtn.addEventListener("click", async () => {
  const name = document.getElementById("name").value;
  const message = document.getElementById("message").value;

  if(name && message){
    await addDoc(collection(db, "wishes"), {
      name: name,
      message: message,
      created: Date.now()
    });

    document.getElementById("name").value = "";
    document.getElementById("message").value = "";
  }
});

// REAL-TIME LISTENER
const q = query(collection(db, "wishes"), orderBy("created"));

onSnapshot(q, (snapshot) => {
  wishList.innerHTML = "";
  snapshot.forEach((doc) => {
    const data = doc.data();
    wishList.innerHTML += `
      <div class="wish-item">
        <strong>${data.name}</strong>
        <p>${data.message}</p>
      </div>
    `;
  });
});

</script>  

<!-- 3ï¸âƒ£ JavaScript interaksi -->
<script>
document.addEventListener("DOMContentLoaded", function() {

  const intro = document.getElementById('intro');
  const heroCarousel = document.getElementById('hero-carousel');
  const envelopeBtn = document.getElementById('envelope-btn');
  const music = document.getElementById('bg-music');
  const videoSection = document.getElementById('video-intro');
  const video = document.getElementById('intro-video');

  if (!envelopeBtn) {
    console.log("ENVELOPE TIDAK DITEMUKAN");
    return;
  }
const sections = document.querySelectorAll(".fade-section");

const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.classList.add("show");
    }
  });
}, {
  threshold: 0.2
});

sections.forEach(section => {
  observer.observe(section);
});
  envelopeBtn.addEventListener('click', function() {

    music.volume = 0;
    music.play();

    let vol = 0;
    const fadeAudio = setInterval(() => {
      if (vol < 1) {
        vol += 0.05;
        music.volume = vol;
      } else {
        clearInterval(fadeAudio);
      }
    }, 200);

    intro.style.display = "none";
    videoSection.classList.add("show");

    video.play().catch(err => console.log(err));
  });

  video.addEventListener('ended', function() {
    videoSection.classList.remove("show");
    heroCarousel.style.display = "block";
  });

});
</script>
  
</body>
</html>
