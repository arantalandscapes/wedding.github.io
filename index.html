<!DOCTYPE html>
<html lang="eng">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wedding Invitation Mathias & Filia</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css" />
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
</head>

<script type="module">

import { initializeApp } 
from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";

import { getFirestore, collection, addDoc, onSnapshot, query, orderBy } 
from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyDURWySjN36BheothrohG_pdXQJuFWbDH0",
  authDomain: "http://wedding-wishes-19adc.firebaseapp.com/",
  projectId: "wedding-wishes-19adc",
  storageBucket: "http://wedding-wishes-19adc.firebasestorage.app/",
  messagingSenderId: "863585583570",
  appId: "1:863585583570:web:0760be1168072b77c4480b"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

const wishList = document.getElementById("wishList");
const sendBtn = document.getElementById("sendWish");

sendBtn.addEventListener("click", async () => {
  const name = document.getElementById("name").value;
  const message = document.getElementById("message").value;

  if(name && message){
    await addDoc(collection(db, "wishes"), {
      name: name,
      message: message,
      created: Date.now()
    });

    document.getElementById("name").value = "";
    document.getElementById("message").value = "";
  }
});

// REAL-TIME LISTENER
const q = query(collection(db, "wishes"), orderBy("created"));

onSnapshot(q, (snapshot) => {
  wishList.innerHTML = "";
  snapshot.forEach((doc) => {
    const data = doc.data();
    wishList.innerHTML += `
      <div class="wish-item">
        <strong>${data.name}</strong>
        <p>${data.message}</p>
      </div>
    `;
  });
});

</script>  
  
<body>

<!-- 1ï¸âƒ£ Landing page Save the Date -->
<section id="intro" class="intro">
  <h1>Save the Date</h1>
  <img src="images/WhatsApp Image 2026-02-26 at 01.14.44.jpeg" id="envelope-btn" alt="Open Invitation">
</section>

<!-- 2ï¸âƒ£ Hero + Carousel (hidden dulu) -->
<section id="hero-carousel" style="display:none;">
  

  <section class="hero" data-aos=fade-up">
    <div class="hero-overlay">
     <h1>Mathias & Filia</h1>
     <p>15 August 2027</p>
    </div>
  </section>

  <section class="story" data-aos="fade-up">
    <h2>Our Story</h2>
    <p>We met eons ago when we were still in mid-school. Only God knows whether it was sheer coincidence or it was really the start of it all...</p>
  </section>
  
  <section class="carousel-section">
    <div class="carousel-track">
       <img src="images/2.jpg" alt="prewed ams 1">
       <img src="images/1.jpg" alt="prewed ams 2">
       <img src="images/3.jpg" alt="prewed ams 3">
       <img src="images/4.jpg" alt="prewed ams 4">
       <img src="images/5.jpg" alt="prewed ams 5">
       <img src="images/3.jpg" alt="prewed ams 1">
       <img src="images/1.jpg" alt="prewed ams 2">
       <img src="images/3.jpg" alt="prewed ams 3">
       <img src="images/4.jpg" alt="prewed ams 4">
       <img src="images/5.jpg" alt="prewed ams 5">
    </div>
  </section>
  
<!-- BACKGROUND MUSIC -->
<audio id="bg-music" autoplay loop>
  <source src="audio/2026-02-26-00-01-59.m4a" type="audio/mp4">
  Browser kamu tidak mendukung audio.
</audio>

  
<!-- 3ï¸âƒ£ JavaScript interaksi -->
<script>
const intro = document.getElementById('intro');
const heroCarousel = document.getElementById('hero-carousel');
const envelopeBtn = document.getElementById('envelope-btn');
const music = document.getElementById('bg-music');

envelopeBtn.addEventListener('click', () => {

  intro.classList.add('blur');
  envelopeBtn.classList.add('zoom-in');
  setTimeout(() => {
   intro.style.display = 'none';
   heroCarousel.style.display = 'block';
   heroCarousel.classList.add('fade-in-hero');

   music.play().catch(() => console.log('Autoplay gagal'));
  }, 1000);
});
</script>
  
  <section class="details" data-aos="fade-up">
    <h4>Wedding Details</h4>
    <p>Holy Matrimony: 9.00 WIB</p>
    <p>Location: GRII Karawaci, Lippo Karawaci Utara, Tangerang 15810</p>
    <p>Intimate Dinner: 18.00 WIB</p>
    <p>Location: Imperial Klub Golf, Lippo Karawaci, Tangerang 15811</p>
  </section>

  <section class="rsvp" data-aos="fade-up">
    <h4>RSVP</h4>
    <p>Please confirm you attendance through this link</p>
    <a href="https://docs.google.com/forms/d/e/1FAIpQLSdYMoDPUspbuEGghn4fjyGKcxjI0Z4wsewwRsNuIiVvEg4BtQ/viewform?usp=sharing&ouid=114060335823943459392" class="btn">Attendance RSVP Form</a>
  </section>

  <section class="wishes">
    <h4>Leave a Wish ðŸ’Œ</h4>

    <input type="text" id="name" placeholder="Your name">
    <textarea id="message" placeholder="Write your wish..."></textarea>
    <button id="sendWish">Send</button>

      <div id="wishList"></div>
  </section>

  <section class="closing" data-aos="fade-up">
    <h5>Thank You!</h5>
    <p>See you in our wedding ceremony!</p>
  </section>

  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    AOS.init({ one: true });
  </script>
  
</body>
</html>
